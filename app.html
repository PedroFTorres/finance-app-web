<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Finance App</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- Top bar com menu -->
  <header class="top-header">
    <nav class="top-menu">
      <button id="menu-dashboard" class="menu-btn active">Dashboard</button>
      <button id="menu-contas" class="menu-btn">Contas</button>
      <button id="menu-lancamentos" class="menu-btn">Lançamentos</button>
    </nav>

    <div class="top-bar">
      <span id="user-email" class="user-email"></span>
      <button id="btn-logout" class="danger">Sair</button>
    </div>
  </header>

  <main>
    <h1>Finance App</h1>

    <!-- TELA: DASHBOARD (padrão) -->
    <section id="tela-dashboard">
      <section class="dashboard-box">
        <h2>Resumo do Mês (Atual)</h2>

        <div class="dashboard-grid">
          <div class="card">
            <h3>Gráfico: A Receber x A Pagar</h3>
            <canvas id="chart-dashboard" width="400" height="200"></canvas>
          </div>

          <div class="card">
            <h3>Resumo</h3>
            <p><strong>Período:</strong> <span id="dash-period"></span></p>
            <p><strong>Total a receber:</strong> <span id="dash-receber">R$ 0,00</span></p>
            <p><strong>Total a pagar:</strong> <span id="dash-pagar">R$ 0,00</span></p>
            <p><strong>Saldo atual:</strong> <span id="dash-saldo-atual">R$ 0,00</span></p>
            <p><strong>Saldo previsto:</strong> <span id="dash-saldo-previsto">R$ 0,00</span></p>
          </div>
        </div>
      </section>
    </section>

    <!-- TELA: CONTAS -->
    <section id="tela-contas" class="hidden">
      <section class="contas-box">
        <h2>Contas</h2>

        <select id="select-contas"></select>
        <input id="conta-nome" placeholder="Nova conta" />
        <input id="conta-saldo" type="number" placeholder="Saldo inicial"/>
        <button id="btn-add-conta">Adicionar Conta</button>
      </section>
    </section>

    <!-- TELA: LANÇAMENTOS -->
    <section id="tela-lancamentos" class="hidden">
      <section class="lancamento-box">
        <h2>Lançamento</h2>

        <select id="tipo-lancamento">
          <option value="receita">Receita</option>
          <option value="despesa">Despesa</option>
        </select>

        <input id="valor-lanc" type="number" placeholder="Valor" />
        <input id="desc-lanc" placeholder="Descrição" />
        <input id="data-lanc" type="date" />
        <button id="btn-add-lanc">Adicionar</button>
        <button id="btn-cancel-edit" class="hidden">Cancelar</button>

        <div class="totais">
          <span id="saldo-atual"></span>
          <span id="total-receitas"></span>
          <span id="total-despesas"></span>
        </div>
      </section>

      <section class="listas">
        <div class="box">
          <h3>Receitas</h3>
          <ul id="list-receitas"></ul>
        </div>

        <div class="box">
          <h3>Despesas</h3>
          <ul id="list-despesas"></ul>
        </div>
      </section>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="supabase.js"></script>
  <script src="app.js"></script>
</body>
</html>
